<html>
<head>
	<title>Explore aPA</title>
	<style type="text/css" src="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"></style>
	<script src="http://maps.googleapis.com/maps/api/js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/g/riot@2.2(riot.min.js+compiler.min.js)"></script>
	<script type="riot/tag" src="tags/app.tag"></script>
	<script type="riot/tag" src="tags/map.tag"></script>
	<script type="riot/tag" src="tags/ui.tag"></script>
	<script type="riot/tag" src="tags/ui-button.tag"></script>
	<script type="riot/tag" src="tags/listing.tag"></script>
	<script type="riot/tag" src="tags/gallery.tag"></script>
	<script type="riot/tag" src="tags/gallery-item.tag"></script>
	<script src="riotcontrol.js"></script>
    <script src="exploreStore.js"></script>
	<script type="text/javascript">

		


		function routing(modeP,filterP,searchP){
			console.log("##",modeP,filterP,searchP);
			if(modeP == 'list') window.state.mode = 'list';
			else if(modeP == 'gallery') window.state.mode = 'gallery';
			else window.state.mode = 'map';
			
			if(filterP != undefined || filterP == '') window.state.filter = filterP;
			else window.state.filter = 'all';

			if(searchP != undefined || searchP == '') window.state.search = searchP;
			else window.state.search = '';
			console.log("##",window.state.mode,window.state.filter,window.state.search);
		}
	</script>
</head>

<body>
	<app><app/>	
	<script>
		var exploreStore = new ExploreStore(); // Create a store instance.
      	RiotControl.addStore(exploreStore); // Register the store in central dispatch.
		riot.mount('app');
	</script>
</body>
</html>